"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[301],{5822:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(2791),i=r(3504),a=r(184),o=function(e){var n=e.breadcrumb,r=e.title,o=e.showButton,c=e.buttonAction,l=e.buttonText;return(0,a.jsx)("div",{className:"page-breadcrumb",children:(0,a.jsxs)("div",{className:"row align-items-center",children:[(0,a.jsxs)("div",{className:"col-6",children:[(0,a.jsx)("nav",{"aria-label":"breadcrumb",children:(0,a.jsx)("ol",{className:"breadcrumb mb-0 d-flex align-items-center",children:n.map((function(e,n){return(0,a.jsxs)(t.Fragment,{children:[e.url&&(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsxs)(i.rU,{to:e.url,className:"link",children:[e.icon&&(0,a.jsx)("i",{className:e.icon}),e.icon&&" ",e.name]})}),!e.url&&(0,a.jsx)("li",{className:"breadcrumb-item active",children:e.name})]},n)}))})}),r?(0,a.jsx)("h1",{className:"mb-0 fw-bold",children:r}):null]}),(0,a.jsx)("div",{className:"col-6",children:o?(0,a.jsx)("div",{className:"text-end upgrade-btn",children:(0,a.jsx)(i.rU,{to:c,className:"btn btn-primary text-white",children:l})}):null})]})})},c=o;o.defaultProps={breadcrumb:[],title:"",showButton:!1}},966:function(e,n,r){var t=r(184);n.Z=function(e){var n=e.error;return n&&(0,t.jsx)("p",{className:"text-danger mb-1",children:n.message})}},9815:function(e,n,r){var t=r(2791),i=r(2007),a=r.n(i),o=r(966),c=r(184),l=(0,t.forwardRef)((function(e,n){var r=e.type,t=void 0===r?"text":r,i=e.onChange,a=e.placeholder,l=e.name,s=e.errors,d=e.disabled,u=void 0!==d&&d;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:n,id:l,name:l,onChange:i,type:t,className:s[l]?"form-control border border-danger":"form-control",placeholder:a,disabled:u}),(0,c.jsx)(o.Z,{error:s[l]})]})}));l.defaultProps={},l.propTypes={type:a().string,onChange:a().func,placeholder:a().string,name:a().string,errors:a().object,disabled:a().bool},l.displayName="Input",n.Z=l},3015:function(e,n,r){var t=r(184),i=function(e){var n=e.label,r=e.loading,i=e.className,a=void 0===i?"":i;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("button",{type:"submit",className:"submit-btn".concat(a?" "+a:""),disabled:r,children:[n,r?(0,t.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):""]})})};n.Z=i,i.defaultProps={}},682:function(e,n,r){r.d(n,{Wk:function(){return P},MU:function(){return I},An:function(){return Y},od:function(){return q},bs:function(){return C},VG:function(){return U},$H:function(){return H},cY:function(){return k},rm:function(){return T}});var t=r(1413),i=r(885),a=r(2791),o=r(3270),c=r(9434),l=r(6871),s=r(5631),d=function(e){return{type:s.CV,payload:e}},u=function(e){return{type:s.pU,payload:e}},m=function(){return{type:s.yz}},p=function(e){return{type:s.my,payload:e}},f=function(e){return{type:s.Ye,payload:e}},v=function(e){return{type:s.kH,payload:e}},j=(r(6451),function(e){return function(n){return n.environment[e]}}),h=j("isLoading"),x=j("list"),b=j("listParams"),g=j("getListFailed"),N=j("item"),Z=j("getItemFailed"),y=j("createSuccess"),_=j("createFailed"),S=j("updateSuccess"),E=j("updateFailed"),F=j("deleteSuccess"),w=j("deleteFailed"),C=function(){var e=(0,o.Kx)(),n=e.get("page")||1,r=e.get("per_page")||10,t=e.get("project_id");return(0,a.useMemo)((function(){return{page:n,per_page:r,order_by_created_at:"desc",project_id:t||void 0}}),[n,r,t])},q=function(e){return(0,o.Zp)({action:d,loadingSelector:h,dataSelector:x,failedSelector:g,param:e})},U=function(){return(0,c.v9)(b)},H=function(e,n){var r=null;return null!==e&&void 0!==e&&e.project_id&&(r=n.find((function(n){return n.id==e.project_id})))&&(r={value:r.id,label:r.name}),(0,a.useMemo)((function(){return{id:(null===e||void 0===e?void 0:e.id)||null,project_id:r,name:(null===e||void 0===e?void 0:e.name)||"",baseurl:(null===e||void 0===e?void 0:e.baseurl)||"",description:(null===e||void 0===e?void 0:e.description)||""}}),[e,r])},P=function(){var e=(0,l.s0)(),n=(0,o.qd)({loadingSelector:h,action:u}),r=(0,i.Z)(n,2),a=r[0],c=r[1];(0,o.E2)(y,"Create environment success",(function(){return e("/environment")})),(0,o.dH)(_,"Create environment Failed");return[a,function(e){var n,r=(0,t.Z)((0,t.Z)({},e),{},{project_id:null===(n=e.project_id)||void 0===n?void 0:n.value});return c(r)}]},T=function(){var e=(0,l.s0)(),n=(0,o.qd)({loadingSelector:h,action:f}),r=(0,i.Z)(n,2),a=r[0],c=r[1];(0,o.E2)(S,"Update environment success",(function(){return e("/environment")})),(0,o.dH)(E,"Update environment Failed");return[a,function(e){var n,r=(0,t.Z)((0,t.Z)({},e),{},{project_id:null===(n=e.project_id)||void 0===n?void 0:n.value});return c(r)}]},k=function(){(0,o.Yw)(m)},Y=function(e){return(0,o.Zp)({action:p,loadingSelector:h,dataSelector:N,failedSelector:Z,param:e})},I=function(e){var n=(0,c.I0)(),r=(0,o.qd)({loadingSelector:h,action:v}),t=(0,i.Z)(r,2),a=t[0],l=t[1];return(0,o.E2)(F,"Delete environment success",(function(){n(d(e))})),(0,o.dH)(w,"Delete environment Failed"),[a,l]}},9822:function(e,n,r){r.d(n,{Qs:function(){return H},L8:function(){return Y},Xn:function(){return U},Y$:function(){return k},Z0:function(){return C},ao:function(){return w},l:function(){return q},$0:function(){return T},dY:function(){return P}});var t=r(885),i=r(2791),a=r(3270),o=r(9434),c=r(6871),l=r(7166),s=function(e){return{type:l.Qb,payload:e}},d=function(e){return{type:l.zi,payload:e}},u=function(){return{type:l.Nq}},m=function(e){return{type:l.E3,payload:e}},p=function(e){return{type:l.OV,payload:e}},f=function(e){return{type:l.TA,payload:e}},v=(r(6451),function(e){return function(n){return n.project[e]}}),j=v("isLoading"),h=v("list"),x=v("listParams"),b=v("getListFailed"),g=v("item"),N=v("getItemFailed"),Z=v("createSuccess"),y=v("createFailed"),_=v("updateSuccess"),S=v("updateFailed"),E=v("deleteSuccess"),F=v("deleteFailed"),w=function(){var e=(0,a.Kx)(),n=e.get("page")||1,r=e.get("per_page")||10;return(0,i.useMemo)((function(){return{page:n,per_page:r,order_by_created_at:"desc"}}),[n,r])},C=function(e){return(0,a.Zp)({action:s,loadingSelector:j,dataSelector:h,failedSelector:b,param:e})},q=function(){return(0,o.v9)(x)},U=function(e){return(0,i.useMemo)((function(){return{id:(null===e||void 0===e?void 0:e.id)||null,name:(null===e||void 0===e?void 0:e.name)||"",giturl:(null===e||void 0===e?void 0:e.giturl)||"",description:(null===e||void 0===e?void 0:e.description)||""}}),[e])},H=function(){var e=(0,c.s0)(),n=(0,a.qd)({loadingSelector:j,action:d}),r=(0,t.Z)(n,2),i=r[0],o=r[1];return(0,a.E2)(Z,"Create project success",(function(){return e("/project")})),(0,a.dH)(y,"Create project Failed"),[i,o]},P=function(){var e=(0,c.s0)(),n=(0,a.qd)({loadingSelector:j,action:p}),r=(0,t.Z)(n,2),i=r[0],o=r[1];return(0,a.E2)(_,"Update project success",(function(){return e("/project")})),(0,a.dH)(S,"Update project Failed"),[i,o]},T=function(){(0,a.Yw)(u)},k=function(e){return(0,a.Zp)({action:m,loadingSelector:j,dataSelector:g,failedSelector:N,param:e})},Y=function(e){var n=(0,o.I0)(),r=(0,a.qd)({loadingSelector:j,action:f}),i=(0,t.Z)(r,2),c=i[0],l=i[1];return(0,a.E2)(E,"Delete project success",(function(){n(s(e))})),(0,a.dH)(F,"Delete project Failed"),[c,l]}},4109:function(e,n,r){r.r(n),r.d(n,{default:function(){return _}});var t=r(885),i=r(2791),a=r(6871),o=r(682),c=r(1413),l=r(4259),s=r(4695),d=r(7081),u=r(9822),m=r(9815),p=r(3015),f=r(966),v=r(7942),j=v.Ry().shape({project_id:v.Ry().shape({value:v.Z_(),label:v.Z_()}).nullable().required("The project field is required"),name:v.Z_().required("The environment name field is required").max(255,"The environment name may not be greater than 255 characters."),baseurl:v.Z_().required("The base url field is required").max(255,"The base url may not be greater than 255 characters."),description:v.Z_().required("The description field is required")}),h=r(184);function x(e){var n=e.environment,r=(0,i.useState)({per_page:0}),a=(0,t.Z)(r,1)[0],v=(0,u.Z0)(a),x=(0,t.Z)(v,1)[0],b=(0,o.$H)(n,x);(0,o.cY)();var g=(0,l.cI)({defaultValues:b,resolver:(0,s.X)(j)}),N=g.register,Z=g.handleSubmit,y=g.setError,_=g.formState.errors,S=g.reset,E=g.control;(0,i.useEffect)((function(){n&&S(b)}),[n,x]);var F=(0,o.Wk)({setError:y}),w=(0,t.Z)(F,2),C=w[0],q=w[1],U=(0,o.rm)({setError:y}),H=(0,t.Z)(U,2),P=H[0],T=H[1],k=x.map((function(e){return{value:e.id,label:e.name}}));return(0,h.jsxs)("form",{onSubmit:Z(n?T:q),children:[(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("div",{className:"col-sm-4",children:["Project ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsxs)("div",{className:"col-sm-8",children:[(0,h.jsx)(l.Qr,{control:E,name:"project_id",render:function(e){var n=e.field,r=n.onChange,t=n.value,i=n.ref;return(0,h.jsx)(d.ZP,{ref:i,onChange:r,options:k,placeholder:"Select Project",className:null!==_&&void 0!==_&&_.project_id?"border border-danger rounded-4":"",value:t})}}),(0,h.jsx)(f.Z,{error:null===_||void 0===_?void 0:_.project_id})]})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("div",{className:"col-sm-4",children:["Environment name ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)("div",{className:"col-sm-8",children:(0,h.jsx)(m.Z,(0,c.Z)((0,c.Z)({},N("name")),{},{placeholder:"Environment name",errors:_}))})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("div",{className:"col-sm-4",children:["Base url ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)("div",{className:"col-sm-8",children:(0,h.jsx)(m.Z,(0,c.Z)((0,c.Z)({},N("baseurl")),{},{placeholder:"Base url",errors:_}))})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsx)("div",{className:"col-sm-4",children:"Description"}),(0,h.jsx)("div",{className:"col-sm-8",children:(0,h.jsx)("textarea",(0,c.Z)({rows:"5",className:"form-control"},N("description")))})]}),(0,h.jsx)("hr",{}),(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col text-end",children:(0,h.jsx)(p.Z,{loading:n?P:C,className:"btn btn-primary text-white",label:n?"Update":"Create"})})})]})}var b=x;x.defaultProps={};var g=r(5822),N=r(547),Z=[{name:"",url:"/",icon:"mdi mdi-home-outline fs-4"},{name:"Environment",url:"/environment",icon:null},{name:"Create",url:null,icon:null}],y=[{name:"",url:"/",icon:"mdi mdi-home-outline fs-4"},{name:"Environment",url:"/environment",icon:null},{name:"Edit",url:null,icon:null}];var _=function(){var e=(0,a.UO)(),n=(0,o.An)(e.id?e:null),r=(0,t.Z)(n,2),c=r[0];return r[1]?(0,h.jsx)(N.Z,{}):(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(g.Z,{breadcrumb:e.id?y:Z,title:e.id?"Environment Edit":"Environment Create"}),(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"card",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h4",{className:"card-title",children:e.id?"Environment Edit":"Create new environment"}),(0,h.jsx)("hr",{}),(0,h.jsx)(b,{environment:c})]})})})})})]})}}}]);
//# sourceMappingURL=301.c08b7374.chunk.js.map