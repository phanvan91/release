"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[100],{5822:function(e,r,n){n.d(r,{Z:function(){return t}});var a=n(2791),s=n(3504),i=n(184),l=function(e){var r=e.breadcrumb,n=e.title,l=e.showButton,t=e.buttonAction,c=e.buttonText;return(0,i.jsx)("div",{className:"page-breadcrumb",children:(0,i.jsxs)("div",{className:"row align-items-center",children:[(0,i.jsxs)("div",{className:"col-6",children:[(0,i.jsx)("nav",{"aria-label":"breadcrumb",children:(0,i.jsx)("ol",{className:"breadcrumb mb-0 d-flex align-items-center",children:r.map((function(e,r){return(0,i.jsxs)(a.Fragment,{children:[e.url&&(0,i.jsx)("li",{className:"breadcrumb-item",children:(0,i.jsxs)(s.rU,{to:e.url,className:"link",children:[e.icon&&(0,i.jsx)("i",{className:e.icon}),e.icon&&" ",e.name]})}),!e.url&&(0,i.jsx)("li",{className:"breadcrumb-item active",children:e.name})]},r)}))})}),n?(0,i.jsx)("h1",{className:"mb-0 fw-bold",children:n}):null]}),(0,i.jsx)("div",{className:"col-6",children:l?(0,i.jsx)("div",{className:"text-end upgrade-btn",children:(0,i.jsx)(s.rU,{to:t,className:"btn btn-primary text-white",children:c})}):null})]})})},t=l;l.defaultProps={breadcrumb:[],title:"",showButton:!1}},966:function(e,r,n){var a=n(184);r.Z=function(e){var r=e.error;return r&&(0,a.jsx)("p",{className:"text-danger mb-1",children:r.message})}},9815:function(e,r,n){var a=n(2791),s=n(2007),i=n.n(s),l=n(966),t=n(184),c=(0,a.forwardRef)((function(e,r){var n=e.type,a=void 0===n?"text":n,s=e.onChange,i=e.placeholder,c=e.name,d=e.errors,o=e.disabled,u=void 0!==o&&o;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{ref:r,id:c,name:c,onChange:s,type:a,className:d[c]?"form-control border border-danger":"form-control",placeholder:i,disabled:u}),(0,t.jsx)(l.Z,{error:d[c]})]})}));c.defaultProps={},c.propTypes={type:i().string,onChange:i().func,placeholder:i().string,name:i().string,errors:i().object,disabled:i().bool},c.displayName="Input",r.Z=c},3015:function(e,r,n){var a=n(184),s=function(e){var r=e.label,n=e.loading,s=e.className,i=void 0===s?"":s;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("button",{type:"submit",className:"submit-btn".concat(i?" "+i:""),disabled:n,children:[r,n?(0,a.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):""]})})};r.Z=s,s.defaultProps={}},1519:function(e,r,n){n.d(r,{F_:function(){return I},yc:function(){return F},RG:function(){return C},Io:function(){return k},_0:function(){return E},UV:function(){return _},fd:function(){return S},OM:function(){return U}});var a=n(885),s=n(2791),i=n(3270),l=n(9434),t=n(6871),c=n(9803),d=function(e){return{type:c.n2,payload:e}},o=function(){return{type:c.yO}},u=function(e){return{type:c.v0,payload:e}},m=function(e){return{type:c.qu,payload:e}},f=function(e){return{type:c.T9,payload:e}},h=function(e){return function(r){return r.user[e]}},p=h("isLoading"),x=h("list"),v=h("listParams"),b=h("getListFailed"),j=h("item"),N=h("getItemFailed"),g=h("updateSuccess"),y=h("updateFailed"),Z=h("deleteSuccess"),w=h("deleteFailed"),S=function(){var e=(0,i.Kx)(),r=e.get("page")||1,n=e.get("per_page")||10,a=e.get("keyword");return(0,s.useMemo)((function(){return{page:r,per_page:n,order_by_created_at:"desc",keyword:a||void 0}}),[r,n,a])},_=function(e){return(0,i.Zp)({action:d,loadingSelector:p,dataSelector:x,failedSelector:b,param:e})},U=function(){return(0,l.v9)(v)},F=function(e){return(0,s.useMemo)((function(){return{id:(null===e||void 0===e?void 0:e.id)||null,name:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",password:"",role_id:(null===e||void 0===e?void 0:e.roles.map((function(e){return""+e.id})))||null}}),[e])},k=function(){var e=(0,t.s0)(),r=(0,i.qd)({loadingSelector:p,action:m}),n=(0,a.Z)(r,2),s=n[0],l=n[1];return(0,i.E2)(g,"Update user success",(function(){return e("/user")})),(0,i.dH)(y,"Update user Failed"),[s,l]},C=function(){(0,i.Yw)(o)},E=function(e){return(0,i.Zp)({action:u,loadingSelector:p,dataSelector:j,failedSelector:N,param:e})},I=function(e){var r=(0,l.I0)(),n=(0,i.qd)({loadingSelector:p,action:f}),s=(0,a.Z)(n,2),t=s[0],c=s[1];return(0,i.E2)(Z,"Delete User success",(function(){r(d(e))})),(0,i.dH)(w,"Delete User Failed"),[t,c]}},6100:function(e,r,n){n.r(r),n.d(r,{default:function(){return k}});var a=n(885),s=n(2791),i=n(6871),l=n(1519),t=n(1413),c=n(4259),d=n(4695),o=n(3270),u=n(5766),m=function(e){return{type:u.Cn,payload:e}},f=function(e){return function(r){return r.role[e]}},h=f("isLoading"),p=f("list"),x=f("getListFailed"),v=n(9815),b=n(3015),j=n(966),N=n(7942),g=N.Ry().shape({name:N.Z_().required("The username field is required").max(255,"The username may not be greater than 255 characters."),role_id:N.IX().min(1,"The roles field is required")}),y=n(184);function Z(e){var r=e.user,n=(0,l.yc)(r);(0,l.RG)();var i,u=(0,c.cI)({defaultValues:n,resolver:(0,d.X)(g)}),f=u.register,N=u.handleSubmit,Z=u.setError,w=u.formState.errors,S=u.reset,_=(0,o.ib)({action:m,loadingSelector:h,dataSelector:p,failedSelector:x,param:i}),U=(0,a.Z)(_,1)[0];(0,s.useEffect)((function(){r&&S(n)}),[r]);var F=(0,l.Io)({setError:Z}),k=(0,a.Z)(F,2),C=k[0],E=k[1];return(0,y.jsxs)("form",{onSubmit:N(E),children:[(0,y.jsxs)("div",{className:"row mb-3",children:[(0,y.jsx)("div",{className:"col-sm-4",children:"Email"}),(0,y.jsx)("div",{className:"col-sm-8",children:(0,y.jsx)(v.Z,(0,t.Z)((0,t.Z)({disabled:!0},f("email")),{},{placeholder:"email",errors:w}))})]}),(0,y.jsxs)("div",{className:"row mb-3",children:[(0,y.jsxs)("div",{className:"col-sm-4",children:["Username ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsx)("div",{className:"col-sm-8",children:(0,y.jsx)(v.Z,(0,t.Z)((0,t.Z)({},f("name")),{},{placeholder:"name",errors:w}))})]}),(0,y.jsxs)("div",{className:"row mb-3",children:[(0,y.jsx)("div",{className:"col-sm-4",children:"Password"}),(0,y.jsx)("div",{className:"col-sm-8",children:(0,y.jsx)(v.Z,(0,t.Z)((0,t.Z)({type:"password"},f("password")),{},{placeholder:"password",errors:w}))})]}),(0,y.jsxs)("div",{className:"row mb-3",children:[(0,y.jsxs)("div",{className:"col-sm-4",children:["Roles ",(0,y.jsx)("span",{className:"text-danger",children:"*"})]}),(0,y.jsxs)("div",{className:"col-sm-8",children:[U.map((function(e,r){return(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"form-check form-check-inline",children:[(0,y.jsx)("input",(0,t.Z)({className:"form-check-input",type:"checkbox",id:"role-".concat(e.id),value:e.id},f("role_id"))),(0,y.jsx)("label",{className:"form-check-label",htmlFor:"role-".concat(e.id),children:e.display_name})]})},r)})),(0,y.jsx)(j.Z,{error:null===w||void 0===w?void 0:w.role_id})]})]}),(0,y.jsx)("hr",{}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col text-end",children:(0,y.jsx)(b.Z,{loading:C,className:"btn btn-primary text-white",label:r?"Update":"Create"})})})]})}var w=Z;Z.defaultProps={};var S=n(5822),_=n(547),U=[{name:"",url:"/",icon:"mdi mdi-home-outline fs-4"},{name:"User",url:"/user",icon:null},{name:"Create",url:null,icon:null}],F=[{name:"",url:"/",icon:"mdi mdi-home-outline fs-4"},{name:"User",url:"/user",icon:null},{name:"Edit",url:null,icon:null}];var k=function(){var e=(0,i.UO)(),r=(0,l._0)(e.id?e:null),n=(0,a.Z)(r,2),t=n[0];return n[1]?(0,y.jsx)(_.Z,{}):(0,y.jsxs)(s.Fragment,{children:[(0,y.jsx)(S.Z,{breadcrumb:e.id?F:U,title:e.id?"User Edit":"User Create"}),(0,y.jsx)("div",{className:"container-fluid",children:(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-12",children:(0,y.jsx)("div",{className:"card",children:(0,y.jsxs)("div",{className:"card-body",children:[(0,y.jsx)("h4",{className:"card-title",children:e.id?"User Edit":"Create new user"}),(0,y.jsx)("hr",{}),(0,y.jsx)(w,{user:t})]})})})})})]})}}}]);
//# sourceMappingURL=100.a44154bd.chunk.js.map